(()=>{"use strict";class t{constructor(t,e){this.name=t,this.description=e,this.points=0,this.maxPoints=1,this.pointValue=1,this.currentQuestionIndex=0}start(){this.window.currentTest=this,document.getElementById("welcome-message").innerHTML="";const t=document.getElementById("test-container");t.innerHTML="";const e=document.createElement("h2");e.textContent=this.name,t.appendChild(e);const n=document.createElement("p");n.textContent=this.description,t.appendChild(n),this.render(t)}render(t){}reset(){this.points=0,this.start()}checkAnswer(t){}showResult(t,e=null){const n=document.getElementById("test-container");n.innerHTML="";const s=document.createElement("p");s.textContent=t?"Correct!":`Incorrect! The answer was ${e}`,n.appendChild(s);const i=document.createElement("button");i.textContent="Next",i.addEventListener("click",(()=>{this.moveToNextQuestion()})),n.appendChild(i)}moveToNextQuestion(){document.getElementById("test-container").innerHTML="",this.currentQuestionIndex++,this.currentQuestionIndex<this.questions.length?this.render(document.getElementById("test-container")):this.showScore()}showScore(){const t=document.getElementById("test-container");t.innerHTML="";const e=document.createElement("p");e.textContent=`Your score: ${this.points}/${this.maxPoints}`,t.appendChild(e);const n=document.createElement("button");n.textContent="Next Test",n.addEventListener("click",(()=>{t.innerHTML="",this.nextTest(),console.log("STARTING NEXT TEST: "+this.next.name)})),t.appendChild(n)}nextTest(){this.next.start()}}const e=[{question:"Question 1: How many fingers do most humans have?",options:["Five","Ten","Twenty"],correctAnswer:"Ten"},{question:"Question 2: What is the primary ingredient in chocolate?",options:["Sugar","Cocoa Beans","Happiness"],correctAnswer:"Cocoa Beans"},{question:"Question 3: What is the national bird of Antarctica?",options:["Penguin","Seagull","Articune"],correctAnswer:"Penguin"},{question:"Question 4: How many months have 28 days?",options:["One","Half","All"],correctAnswer:"All"},{question:"Question 5: Which planet is famous for its ring?",options:["Saturn","Mars","Uranus"],correctAnswer:"Saturn"}];function n(t){let e,n,s;for(s=t.length-1;s>0;s--)e=Math.floor(Math.random()*(s+1)),n=t[s],t[s]=t[e],t[e]=n;return t}const s=[{image:"./img/bild1.png",description:"Anka",id:1},{image:"./img/bild2.png",description:"Bomerang",id:2},{image:"./img/bild3.png",description:"Fotboll",id:3},{image:"./img/bild4.png",description:"Spargris",id:4},{image:"./img/bild5.png",description:"Kudde",id:5},{image:"./img/bild6.png",description:"Party",id:6},{image:"./img/bild7.png",description:"Pirat",id:7},{image:"./img/bild8.png",description:"Jordglob",id:8},{image:"./img/bild9.png",description:"Bil",id:9}];window.quizTest=new class extends t{constructor(t,n){super(t,n),this.questions=e,this.pointValue=3,this.maxPoints=this.questions.length*this.pointValue,this.currentQuestionIndex=0}reset(){this.points=0,this.currentQuestionIndex=0,this.start()}render(t){const e=document.createElement("h2");e.textContent=this.questions[this.currentQuestionIndex].question,t.appendChild(e),this.questions[this.currentQuestionIndex].options.forEach((e=>{const n=document.createElement("button");n.textContent=e,n.addEventListener("click",(()=>{this.checkAnswer(e)})),t.appendChild(n)}))}checkAnswer(t){const e=this.questions[this.currentQuestionIndex].correctAnswer;t===e?(this.points+=this.pointValue,this.showResult(!0)):this.showResult(!1,e)}}("Quiz Test","Flervalsfrågor, tryck på det alternativ du tror är rätt."),window.fizzBuzzTest=new class extends t{constructor(t,e,n){super(t,e),this.currentAnswer="",this.pointValue=3,this.next=n,this.question=this.generateFizzBuzzQuestion(),this.questions=[],this.questions.push(this.question),this.maxPoints=this.questions.length*this.pointValue}generateFizzBuzzQuestion(){const t=Math.floor(20*Math.random())+1,e=[];for(let n=0;n<7;n++){const s=t+n;s%3==0&&s%5==0?e.push("fizzbuzz"):s%3==0?e.push("fizz"):s%5==0?e.push("buzz"):e.push(s.toString())}return this.correctAnswer=t+7,e.push("?"),`Question: ${e.join(", ")}`}reset(){this.question=this.generateFizzBuzzQuestion(),this.questions=[],this.questions.push(this.question),this.maxPoints=this.questions.length*this.pointValue,this.points=0,this.currentAnswer="",this.start()}render(t){const e=document.createElement("p");e.textContent=this.question,t.appendChild(e);const s=["fizz","buzz","fizzbuzz"];for(let t=1;t<=3;t++)s.push((Math.floor(20*Math.random())+8).toString());this.correctAnswer%3==0&&this.correctAnswer%5==0?this.correctAnswer="fizzbuzz":this.correctAnswer%3==0?this.correctAnswer="fizz":this.correctAnswer%5==0?this.correctAnswer="buzz":s.includes(this.correctAnswer)||s.push(this.correctAnswer),n(s),s.forEach((e=>{const n=document.createElement("button");n.textContent=e,n.addEventListener("click",(()=>{this.checkAnswer(e)})),t.appendChild(n)}))}checkAnswer(t){const e=t===this.correctAnswer;e&&(this.points+=3),this.currentAnswer=t,this.showResult(e,this.correctAnswer)}}("FizzBuzz Test","Tryck på den knapp som du tror är näst i sekvensen"),window.memoryTest=new class extends t{constructor(t,e){super(t,e),this.maxPoints=9}render(t){this.questions=[],s.forEach((t=>{this.questions.push(t)})),n(this.questions),this.correctOrder=[],this.currentQuestionIndex=0,this.questions.forEach((t=>{this.correctOrder.push(t.id)})),this.questions=n(this.questions);const e=document.createElement("h2");t.appendChild(e);const i=document.createElement("button");i.textContent="Start",t.appendChild(i),i.addEventListener("click",(()=>{this.displayImages(t)}))}displayImages(t){t.innerHTML="";const e=document.createElement("div");e.classList.add("image-grid"),this.questions.forEach(((t,n)=>{const s=document.createElement("div");s.id=t.id,s.classList.add("card"),s.style.backgroundImage=`url("${t.image}")`;const i=document.createElement("span");i.textContent=n+1,s.appendChild(i),e.appendChild(s)})),t.appendChild(e),setTimeout((()=>{this.hideImages(t)}),5e3)}hideImages(t){const e=document.getElementsByClassName("card");for(const t of e)t.style.backgroundImage="none";const n=document.createElement("div");n.classList.add("button-grid"),s.forEach(((t,e)=>{const s=document.createElement("button");s.classList.add("button"),s.textContent=t.description,s.id=t.id+100,s.addEventListener("click",(()=>{this.handleButtonClick(s,e)})),n.appendChild(s)})),t.appendChild(n)}handleButtonClick(t,e){const n=this.questions[this.currentQuestionIndex];if(n.id===t.id-100){const t=document.getElementById(n.id);t.style.backgroundImage=`url("${n.image}")`,t.classList.add("green"),this.currentQuestionIndex++,this.points++}else{const t=document.getElementById(n.id);t.style.backgroundImage=`url("${n.image}")`,t.classList.add("redd")}if(n.id!==t.id-100||this.currentQuestionIndex>=this.questions.length){this.disableButtons();const t=document.getElementById("test-container"),e=document.createElement("button");e.textContent="Next",e.addEventListener("click",(()=>{this.showScore()})),t.appendChild(e)}}disableButtons(){const t=document.getElementsByClassName("button");for(const e of t)e.disabled=!0}showScore(){const t=document.getElementById("test-container");t.innerHTML="";const e=document.createElement("p");e.textContent=`Your score: ${this.points}/${this.maxPoints}`,t.appendChild(e);const n=document.createElement("button");n.textContent="Next Test",n.addEventListener("click",(()=>{this.nextTest()})),t.appendChild(n)}}("Bildminne Test","När testet startar har du 5 sekunder på dig att memorera 9 bilder. Tryck sedan på knapparna i rätt ordning."),window.visualTest=new class extends t{constructor(t,e){super(t,e),this.objects=["square","circle","triangle","rectangle"],this.colors=["red","blue","green","yellow"],this.numObjects=10,this.sequence=[],this.maxPoints=this.numObjects*this.pointValue,this.currentIndex=0}reset(){this.points=0,this.currentIndex=0,this.sequence=[],document.getElementById("test-container").classList.remove("grid"),this.startTest()}generateSequence(){for(let t=0;t<this.numObjects;t++){const e=this.objects[Math.floor(Math.random()*this.objects.length)],n=this.colors[Math.floor(Math.random()*this.colors.length)];let s=!0;for(const i of this.sequence)i.object===e&&i.color===n&&(t--,s=!1);s&&this.sequence.push({object:e,color:n})}}render(t){const e=document.createElement("button");e.textContent="Start Test",e.addEventListener("click",(()=>{this.startTest()})),t.appendChild(e)}startTest(){const t=document.getElementById("test-container");t.innerHTML="",this.window.currentTest=this,this.generateSequence(),this.displayObjects(t),this.displayPrompt(t)}displayObjects(t){document.getElementById("test-container").classList.add("grid"),this.eventListeners=[];for(const e of this.sequence){const n=e,s=document.createElement("div");s.classList.add("object",n.object,n.color);const i=()=>{this.checkAnswer(s)};s.addEventListener("click",i),t.appendChild(s),this.eventListeners.push({element:s,listener:i})}this.timeout=setTimeout((()=>{this.endTest()}),15e3)}displayPrompt(t){const e=document.createElement("div");e.classList.add("prompt"),n(this.sequence);let s=1;for(const t of this.sequence){const n=document.createElement("div");n.id=s,n.innerHTML=s+". "+t.color+" "+t.object+".<br>",s++,e.appendChild(n)}t.appendChild(e)}checkAnswer(t){const e=t.classList.contains(this.sequence[this.currentIndex].color),n=t.classList.contains(this.sequence[this.currentIndex].object),s=document.getElementById(this.currentIndex+1);e&&n?(s.classList.add("green"),this.currentIndex++,this.points+=this.pointValue):(s.classList.add("red"),this.currentIndex++),this.currentIndex>=this.numObjects&&(clearTimeout(this.timeout),this.endTest())}endTest(){const t=document.getElementsByClassName("object");console.log(t);for(const{element:t,listener:e}of this.eventListeners)t.removeEventListener("click",e);const e=document.createElement("button");e.textContent="Next",e.addEventListener("click",(()=>{this.showScore()})),document.getElementById("test-container").appendChild(e)}showScore(){const t=document.getElementById("test-container");t.classList.remove("grid"),t.innerHTML="";const e=document.createElement("p");e.textContent=`Your score: ${this.points}/${this.maxPoints}`,t.appendChild(e);const n=document.createElement("button");n.textContent="See results!",n.addEventListener("click",(()=>{this.nextTest()})),t.appendChild(n)}}("Visuellt test","När testet startar har du 15 sekunder på dig att klicka på 10 objekt i den ordningen som är skriven."),window.testResult=new class extends t{render(t){this.averageResult=30;const e=document.createElement("div"),n=this.window.quizTest.points,s=this.window.fizzBuzzTest.points,i=this.window.memoryTest.points,o=this.window.visualTest.points,r=n+s+i+o,c=this.window.quizTest.maxPoints,d=this.window.fizzBuzzTest.maxPoints,a=this.window.memoryTest.maxPoints,u=this.window.visualTest.maxPoints,h=c+d+a+u;e.innerHTML+="Quiz Test: "+n+"/"+c+"<br>",e.innerHTML+="FizzBuzz Test: "+s+"/"+d+"<br>",e.innerHTML+="Memory Test: "+i+"/"+a+"<br>",e.innerHTML+="Visual Test: "+o+"/"+u+"<br><br>",e.innerHTML+="Total Points: "+r+"/"+h+"<br>",e.innerHTML+="Your Estimated IQ: "+Math.round(r/this.averageResult*100)+"<br>",e.innerHTML+="Max Possible IQ in this test: "+Math.round(h/this.averageResult*100),t.appendChild(e)}}("Testresultat","Nedan visas hur det gick på testet."),window.totalPoints=0,window.counter=0,window.reset=function(){this.currentTest.reset()},window.quizTest.next=window.fizzBuzzTest,window.fizzBuzzTest.next=window.memoryTest,window.fizzBuzzTest.next=window.memoryTest,window.memoryTest.next=window.visualTest,window.visualTest.next=window.testResult,window.quizTest.window=window,window.fizzBuzzTest.window=window,window.memoryTest.window=window,window.visualTest.window=window,window.testResult.window=window,document.getElementById("start-link").addEventListener("click",(()=>{window.quizTest.start()}))})();